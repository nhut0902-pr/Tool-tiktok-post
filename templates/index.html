<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>TikTok AI Tool</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container py-5">
    <h1 class="mb-4">TikTok AI Auto Post</h1>
    <form method="POST">
        <input type="url" name="tiktok_url" class="form-control mb-2" placeholder="Nhập link TikTok" required>
        <input type="text" name="hf_api_key" class="form-control mb-2" placeholder="Hugging Face API Key" value="{{ keys.hf_api_key }}" required>
        <input type="text" name="unsplash_key" class="form-control mb-2" placeholder="Unsplash Access Key" value="{{ keys.unsplash_key }}" required>
        <input type="text" name="fb_token" class="form-control mb-2" placeholder="Facebook Access Token" value="{{ keys.fb_token }}" required>
        <input type="text" name="fb_id" class="form-control mb-2" placeholder="Facebook Page ID" value="{{ keys.fb_id }}" required>
        <button type="submit" class="btn btn-primary mb-3">Xử lý & Post lên Facebook</button>
    </form>
    <a href="/apikeys" class="btn btn-secondary mb-3">Quản lý API Keys</a>
    <a href="/history" class="btn btn-secondary mb-3">Xem Lịch Sử</a>

    {% if result %}
    <div class="card p-3">
        <h5>Original:</h5><p>{{ result.title }}</p>
        <h5>Summary:</h5><p>{{ result.summary }}</p>
        <h5>Image:</h5><img src="{{ result.image }}" class="img-fluid mb-2">
        <h5>Facebook Message:</h5><p>{{ result.message }}</p>
        <h5>Nghe TTS:</h5>
        <audio controls>
            <source src="/tts/{{ result.tts_file }}" type="audio/mpeg">
        </audio>
    </div>
    {% endif %}
</div>
</body>
</html>
